# ER図2
## 全体
- 親テーブル側の多重度をOne-Mandatoryにしていない。
- 入荷記録を管理するテーブルがない。
- 配送先データを管理するテーブルがない。

## 管理者
- PKである管理者idがない。
- エンドユーザと商品の２つのテーブルに結びついている。

## エンドユーザ
- 漢字/ひらがな表記の名前に関するカラムがない。
- PKがエンドユーザidでなく、ユーザidになっている。

## 商品
- 商品とディスクの２つのテーブルでの1と多の関係が逆。
- 商品と購入詳細に関して1:多の関係になっていない。
- 在庫数は結びついている購入詳細の記録と入荷の記録から算出するためカラムを用意する必要がない。
- ジャンル、レーベル、アーティストに関して商品が1個以上必須になっている。
- リレーションから算出できるのでディスク枚数カラムは必要ない。

## ディスク
- トラックNoカラムはディスクテーブルには必要ない。
- ディスクと曲の２つのテーブルでの1と多の関係が逆。
- ディスク名、ソート番号のカラムが存在しない。

## カートアイテム
- PKであるカートアイテムidがない。
- 商品に対してカートアイテムが1個以上必須になっている。
- 小計金額は購入枚数と結びついている商品テーブルの税別価格を用いて算出できるのでカラムを用意する必要がない。

## 購入
- テーブル名は受注などの管理者目線にすべき。
- 購入と購入詳細の２つのテーブルでの1と多の関係が逆であり、多である購入詳細は1個以上必須であるべき。
- 購入日のカラムは登録日と同じ意味なので無くてよい。
- 配送先の郵便番号と宛名を管理するカラムがない。
- 配送ステータスのカラムがない。

## 購入詳細
- テーブル名は受注詳細などの管理者目線にすべき。
- 購入時の価格を管理するカラムがない。
- 小計金額は購入枚数と購入時の価格で算出できるので無くてよい。

## ジャンル
- ジャンルというカラム名をジャンル名にする。

## レーベル
- レーベルというカラム名をレーベルメイトする。

## 曲
- 曲順を管理するカラムを入れる。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

**研修担当レビュー**
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## エンドユーザ
- [不足]エンドユーザidがユーザidになっています。

## ジャンル
- [不足]カラムにジャンルとあるが、何が入るものか不明です。

## レーベル
- [不足]カラムにレーベルとあるが、何が入るものか不明です。

## 商品
- [不足]ディスク枚数カラムがある（リレーションから算出できる）。

## 曲
- [不足]曲順を管理するカラムがない。
