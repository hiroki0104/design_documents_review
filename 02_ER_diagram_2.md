# ER図2

## 管理者テーブル
- エンドユーザ、商品テーブルと紐づいています。
  > 管理人はエンドユーザ、商品テーブルを子に持つ必要がありますか？
- 主キーが抜けています。追記してください。

## エンドユーザテーブル
- 名カラムがありません。姓名セットになるようにしましょう。
- 配送先を複数保存したい場合を考慮できていません。 
  > 複数の配送先がある場合、どのように管理しますか？
- テーブル名と主キー名が違います。統一しましょう。

## 商品テーブル
- 入荷による在庫管理ができていません。
  > 在庫が減ってきた場合、どのように在庫の管理をおこないますか？
- 1つの商品に対して、複数のディスクが存在するので、ディスクidは不要になります。リレーションを見直しましょう。
- ディスク枚数カラムは必要ありません。
  > どこでディスク情報を管理しますか？
- 発売日がわかりません。
  > 当日以外の場合、どのように管理しますか？

## ディスクテーブル
- トラックNoは曲につけるべきです。ディスクの番号はディスクNoとしておきましょう。
- 1つのディスクに対して、複数の曲が存在するので、曲名idは不要になります。リレーションを見直しましょう。

## 曲名テーブル
- テーブル名と役割があっていません。修正しましょう。
- 曲順の管理ができていません。
  > 後々順番を変更したい場合、どのようにおこないますか？


## ジャンルテーブル,レーベルテーブル(共通)
- テーブル名と同じカラム名を使わないようにしましょう。ジャンル名、レーベル名などに修正しましょう。

## カートアイテムテーブル
- 主キーが抜けています。追記してください。
- 小計金額カラムがあります。
  > 小計金額は数量と価格で求めることができませんか？
- 購入枚数というカラムが存在しています。
  > カートに入れた時点ではまだ購入はされていません。カラム名を修正しましょう。

## 購入テーブル,購入詳細テーブル(共通)
- 管理者視点のテーブル名に変更すべきです。
  > データの管理をおこなう人がわかりやすい命名を心がけましょう。

## 購入テーブル
- 購入詳細idが外部キーになっています。
  > 1つの注文に対して、商品はいくつ存在するでしょうか？
- データの登録と同時に購入手続きとなるので、購入日カラムは持つ必要がありません。
- 配送ステータスがありません。
  > 配送状況はどうやって確認しますか？

## 購入詳細テーブル
- 1つの注文に対して、複数の詳細（商品）が存在するので、リレーションを見直すべき。
- どの商品が購入されたのかわかりません。
  > 商品とのリレーションを見直しましょう。
- 購入時の価格を保存するカラムがありません。
  > 値段を変更している、していた場合、どのように情報を管理しますか？
