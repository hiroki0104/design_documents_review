# テーブル定義書1
## 全体
- 主キーになるカラムはidにしましょう。テーブル名_idは不適切です。
- 使える文字は半角英数字と＿（アンダースコア）となります。キャメルケースや空白は命名規則的に不適切ですので、修正しましょう。
- テーブル名はすべて小文字かつ、複数形にしましょう。
- カラム名はすべて小文字としましょう。
- created_at,updated_atがすべてユーザ登録日時、更新日時になっています。それぞれ適切な名前に修正しましょう。
- Songs,Labels,Artists,Genre,Cart itemテーブルに主キーがありません。追記してください。
- deviseを使う場合は備考にdeviseと追記しましょう。
- AUTOINCREMENTとINDEXが抜けている箇所があります。主キーに追記してください。
- テーブル名とカラム名に同じ名前を含めてはいけません。修正しましょう。

## Adminテーブル
- 管理者IDにPK、AUTOINCREMENTが抜けています。追記しましょう。
- deviseのデフォルトではメールアドレスはemail, パスワードはencrypted_passwordとなります。修正しましょう。

## Usersテーブル
- user_l,user_fではなにを示しているかわかりません。
  > lastやfirstなどわかりやすい命名を心がけましょう。
- 名前（名、名カナ）にNOT NULL がついていません。追記しましょう。
- 郵便番号や電話番号が０から始まることが考慮できていません。
  > integer型では最初の０は保存することができません。
- user_~というuser_の接頭辞は必要ありません。修正しましょう。
- member_statusのデータ型がstringになっています。
  > どういった情報を格納できればよいでしょうか？
- 配送先住所について、複数の配送先があることを考慮できていません。
  > 複数の配送先がある場合、どのように管理しますか？
- deviseのデフォルトではメールアドレスはemail, パスワードはencrypted_passwordとなります。修正しましょう。
- 住所に関するカラムが2つある。

## Productsテーブル
- disc_idがあります。
  > Discsテーブルにもproduct_idがありますが、どちらを親としたいのでしょうか？
- genre_id,label_id,artist_idのFKが抜けています。追記しましょう。
- 入荷による在庫管理ができていません。
  > 在庫が減ってきた場合、どのように在庫の管理をおこないますか？
- 在庫ステータスのデータ型がstringになっています。
  > どういった情報を格納できればよいでしょうか？

## Discsテーブル
- トラックNoは曲につけるべきです。ディスクの番号はディスクNoとしておきましょう。
- products_idというように複数形になってしまっています。単数形_idが正しい名称になります。修正しましょう。

## Songsテーブル
- 曲名カラムかintegerになっている。
- 曲順の管理ができていません。
  > 後々順番を変更したい場合、どのようにおこないますか？

## Cart itemテーブル
- 小計金額カラムがあります。
  > 小計金額は数量と価格で求めることができませんか？
  - 商品IDのデータ型をinteger型にする。
- 購入枚数というカラム名になっています。
  > カートに入れた時点ではまだ購入はされていません。カラム名を修正しましょう。

## Artists,Genre,Cart item,Songsテーブル(共通)
- FKにAUTOINCREMENTがついています。AUTOINCREMENTはrailsが自動で１，２，３と連番してくれる機能となります。主キーにしか必要がないので、外しておきましょう。

## Artists,Genre,labelsテーブル(共通)
- 子要素のid(products_id)を持ってしまっています。リレーションを見直しましょう。

## Artists、Genreテーブル(共通)
- アーティスト名、ジャンル名がinteger型になっています。
  > どういった情報を格納できればよいでしょうか？
  
## Buy,Buy detailsテーブル(共通)
- 管理者視点のテーブル名に変更すべきです。
  > データの管理をおこなう人がわかりやすい命名を心がけましょう。

## Buyテーブル
- 子要素のid(buy_details_id)を持ってしまっています。リレーションを見直しましょう。
- 支払方法、支払合計のカラム名が説明と合っていません。
  > payやstockという名前でデータの中身を判断することができるでしょうか？
- 支払方法のデータ型がstringになっています。
  > どういった情報を格納できればよいでしょうか？
- 郵便番号と宛名がありません。
  > 誰宛に送ったか把握するためにはどうすればよいでしょうか？

## Buy detailsテーブル
- このテーブルはproductテーブルとbuyテーブルの子に当たるので、FKとしてproduct_idとbuy_idというカラムを持たせる。
- 小計金額は算出できるのでカラムは必要ない。
- 購入時価格のカラムを持たせる。
